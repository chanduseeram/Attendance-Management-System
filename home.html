<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Tracking System</title>
		<link rel="icon" type="image" href="collegelogo.png">
		<link href="home_style.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="header">
			<div id="logo"> <img src="collegelogo.png" height="100" width="100" alt="Page Logo"></div>
			<div><h3 style="font-size: 30px; margin-right: 350px; word-spacing: 10px;">ATTENDANCE MANAGEMENT SYSTEM</h3></div>
			<ul class="nav-links">
				<li><button onclick="openRegisterModal()">Student Register</button></li>
				<li><button onclick="openModal()">Forgot Password?</button></li>
			 </ul>
		</div>
    </div><br>
    <h1 style="font-size: 45px; color: white; margin-left: 50px; text-shadow: 2px 2px 5px rgba(0,0,0.5) ; margin-right: 20px; display: inline;">Hello</h1>
    <h1 id="name" style="font-size: 60px; color: aqua; text-shadow: 2px 2px 5px rgba(0,0,0.5) ; margin: 0px 20px; display: inline;"></h1>
    <br>
    <center><h1 style="margin-bottom: 5px;">Select Department</h1></center>
    <center><h2>To mark Attandance</h2></center><br><br>
    <a style="margin-left: 585px;" href="nextpageMCA.html">MCA</a>
    <a href="error.html">M.Sc (CS)</a>
    <a href="error.html">MBA</a>
    <br><br><br><br>
    <div id="original" class="percentagebox">
        <form id="sform" action="attendance_calculate.jsp" method="POST" name="sform" onsubmit="return check()">
        <center>
        <h3 style="padding: 10px 20px; color: brown;">Want to know the Student Attandance Percentage?</h3>
        <h3 style="padding: 3px 20px; color:black; display: inline;">Enter student ID</h3>
        <input type="text" id="idbox" name="idbox"/>
        <input type="submit" value="check" style="width: 100px; padding-left: 0%; background-color: greenyellow; font-weight: 600; border-radius: 10px;"/>
        </center>
        </form>
    </div>
    <div id="hided" class="percentagebox" style="display: none; border-radius: 0; height: 160px;">
        <center>
        <h2 style="padding: 10px 20px; color: brown; text-decoration: underline; font-weight: 700;">RESULT</h2><br>
        <h3 style="padding: 3px 20px; color:black; display: inline;">Total classes</h3>
        <input type="number" readonly id="totalClasses" name="totalClasses" style="width: 60px; margin-right: 50px;"/>
        <h3 style="padding: 3px 20px; color:black; display: inline;">No. of classes attended</h3>
        <input type="number" readonly id="resulttotal" name="resulttotal" style="width: 60px;">
        <h3 style="padding: 3px 20px; color:black; display: inline;">Calculated Percentage :</h3>
        <input type="text" readonly id="resultper" name="resultper" style="width: 60px;">
        <br><br>
        <h4 id="displaybox" style="color: red;"></h4>
        
        </center>
    </div>
    <div id="footer">
        <h3 style="margin-right:60px; color:aqua;">Contact us</h3>
        <span class="footerspan">+91 7013074531</span>&nbsp;&nbsp;<span class="footerspan">attendanceproject1@gmail.com</span class="footerspan">&nbsp;&nbsp;<span class="footerspan">Gvp colllege, Rushikonda</span><br>
        <label style="font-size:12px; margin-top:20px; margin-right:50px; margin-bottom:0px; ">&copy; 2024-2025 GVP All rights reserved.</label>
	</div>

    <div id="registerModel" class="modal">
			<div class="modal-content">
			  <span class="close" onclick="closeRegisterModal()">&times;</span>
			  <h2>Student Register</h2>
			  <form id="registrationForm" action="StudentRegister.jsp" method="post" onsubmit="return validateform()">
				<input type="text" id="sname" name="sname" placeholder="Student name" required style="width: 370px;">
				<input type="text" id="sid" name="sid" placeholder="Student ID" required style="width: 370px;">
				<input type="email" id="smail" name="smail" placeholder="Student Email Address" required style="width: 370px;">
				<div class="phone-group">
				<input style="width: 75px; display: inline; margin-right: 5px;" value="+91" readonly/>
				<input type="tel" id="sphone" name="sphone" placeholder="Student Phone Number" maxlength="10" pattern="[0-9]{10}" required style="width: 260px; margin-right: 0px;">
				</div>
				<select id="sdepartment" name="sdepartment" style="color: black; font-size: 16px;">
                    <option value="mca">MCA</option>
                    <option value="msc">MSC</option>
                    <option value="mba">MBA</option>
                </select>
				<button type="submit">Register</button>
				<button type="reset">Clear</button>
			  </form>
			</div>
		  </div>
    <script>
        function check() {
            var pattern = document.getElementById("idbox").value;
            var matching = /^PG\d{8,9}$/;
            if(!matching.test(pattern)){
                alert("Enter correct ID");
                return false;
                window.location.href="home.html";
            }
        }
        function openRegisterModal() {
				document.getElementById("registerModel").style.display = "block";
			}

			function closeRegisterModal() {
				document.getElementById("registerModel").style.display = "none";
			}
			function validateform() {
				var student_id = document.getElementById("sid");
				var pattern=/^PG\d{8,9}$/;
				if(!pattern.test(student_id.value)){
					alert("You're Not Authorized to Register Here");
					return false;
				}
			    return true;
			}

        document.getElementById("sform").addEventListener("submit", function(event){
            event.preventDefault();
        var percentage = parseFloat(document.getElementById("resultper").value);
        var result="";
        if(percentage>=75){
            result="----Have eligibile percentage for this student----";
        }
        else {
            result="----This student doesn't have eligible attandance----";
        }
        document.getElementById("displaybox").innerText=result;
        document.getElementById("hided").style.display="block"
        document.getElementById("original").style.borderRadius="0"});
    </script>
</body>
</html>